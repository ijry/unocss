import{t as P}from"./index-DiOdfLr0.js";import"./tailwind-BRK0ykYf.js";function _(c,u){const d=P(c||[]),h=P(u||[]);return t=>h.some(e=>t.match(e))?!1:d.some(e=>t.match(e))}const R=/<([^/?<>0-9$_!][^\s>]*)\s+((?:"[^"]*"|'[^"]*'|(\{[^}]*\})|[^{>])+)>/g,$=new RegExp(`(?<![~\`!$%^&*()_+\\-=[{;':"|,.<>/?])([a-z()#][[?\\w\\-:()#%\\]]*)(?:\\s*=\\s*('[^']*'|"[^"]*"|\\S+))?|\\{[^}]*\\}`,"gi"),f=/((?!\d|-{2}|-\d)[\w\u00A0-\uFFFF:!%.~<-]+)=(?:"[^"]*"|'[^']*'|(\{)((?:[`(][^`)]*[`)]|[^}])+)(\}))/g;function I(c={}){const{blocklist:u=[]}=c,d=t=>{for(const e of u)if(e instanceof RegExp){if(e.test(t))return!0}else if(t===e)return!0;return!1};return{name:"@unocss/transformer-attributify-jsx",enforce:"pre",idFilter:_(c.include||[/\.[jt]sx$/,/\.mdx$/],c.exclude||[]),async transform(t,e,{uno:b}){var F;const A=[],p=b.config.presets.find(i=>i.name==="@unocss/preset-attributify"),y=((F=p==null?void 0:p.options)==null?void 0:F.prefix)??"un-";for(const i of Array.from(t.original.matchAll(R))){let l=i[2];f.test(l)&&(l=l.replace(f,(n,r,m)=>{if(!m)return" ".repeat(n.length);let o=0,a=n;for(const s of n.matchAll(R)){const x=s[2];f.test(x)&&x.replace(f,k=>" ".repeat(k.length));const g=a.slice(0,o)+" ".repeat(s.index+s[0].indexOf(s[2])-o)+x;a=g+" ".repeat(s.input.length-g.length),o=g.length}return o!==0?a:" ".repeat(n.length)}));for(const n of l.matchAll($)){const r=n[0].replace(/:/,"-");if(r.includes("=")||d(r))continue;const m=r.startsWith(y)?r.slice(y.length):r;A.push(b.parseToken(m).then(o=>{if(o){const a=(i.index||0)+(n.index||0)+i[0].indexOf(i[2]),s=a+r.length;t.overwrite(a,s,`${r}=""`)}}))}}await Promise.all(A)}}}export{I as default};
